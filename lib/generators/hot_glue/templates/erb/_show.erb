<%= all_line_fields %>

<% if @downnest_relationship %>
  <div class="<%= @col_identifier %> scaffold-downnest" style="flex-basis: 45%" >
  <\%= render partial: "<%= namespace_with_trailing_dash %><%= @downnest_relationship %>/list", locals: {
    nested_for: "<%= @singular %>-#{<%= @singular %>.id}",
    <%= @singular %>: <%= @singular %><%= nest_assignments_operator(false, true) %>,
  <%= @downnest_relationship %>: <%= @singular %>.<%= @downnest_relationship %>} %>
  </div>
<% end %>

<div class="<%= @col_identifier %> scaffold-line-buttons" style="flex-basis: 150px;">
  <% if destroy_action %>
    <\%= form_with url: <%= path_helper_singular %>(<%= path_helper_args %>), html: {style: "display: inline-block;"}, method: :delete do |f| %>
      <\%= f.submit "Delete".html_safe, data: <%= delete_confirmation_syntax  %>, class: "delete-<%= singular %>-button btn btn-primary btn-sm" %>
    <\% end %>
  <% end %>


  <%= magic_button_output %>

  <% unless @no_edit %>
  <\%= link_to "Edit <i class='fa fa-1x fa-list-alt'></i>".html_safe, edit_<%= path_helper_singular %>(<%= path_helper_args %>), <% if @big_edit %>'data-turbo' => 'false', <% end %>disable_with: "Loading...", class: "edit-<%= singular %>-button btn btn-primary btn-sm" %>
  <% end %>
</div>
